# ЁЯФН EmailJS Debug Guide - р╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓р╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕ер╣Др╕бр╣Ир╣Др╕Фр╣Й

## тЭМ р╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕╡р╣Ир╕Юр╕Ъ

1. р╣Др╕бр╣Ир╕бр╕╡ alert р╕Вр╕╢р╣Йр╕Щр╕зр╣Ир╕▓р╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕ер╣Др╕Ыр╣Бр╕ер╣Йр╕з
2. р╣Др╕бр╣Ир╕Юр╕Ър╕нр╕╡р╣Ар╕бр╕ер╕Чр╕╡р╣Ир╕кр╣Ир╕Зр╣Др╕Ыр╣Ар╕ер╕в

---

## тЬЕ р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╣Бр╕Бр╣Йр╣Др╕Вр╣Бр╕ер╣Йр╕з

1. тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б Alert р╣Ар╕бр╕╖р╣Ир╕нр╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕ер╕кр╕│р╣Ар╕гр╣Зр╕И
2. тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б Alert р╣Ар╕бр╕╖р╣Ир╕нр╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕ер╣Др╕бр╣Ир╕кр╕│р╣Ар╕гр╣Зр╕И
3. тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б Console Logs р╕Чр╕╡р╣Ир╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Вр╕╢р╣Йр╕Щ
4. тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б Error Handling р╕Чр╕╡р╣Ир╕Фр╕╡р╕Вр╕╢р╣Йр╕Щ

---

## ЁЯФН р╕зр╕┤р╕Шр╕╡р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Ыр╕▒р╕Нр╕лр╕▓

### 1. **р╣Ар╕Ыр╕┤р╕Ф Browser Console (F12)**

р╣Ар╕бр╕╖р╣Ир╕нр╕кр╕гр╣Йр╕▓р╕Зр╕Др╕│р╕Вр╕нр╣Гр╕лр╕бр╣И р╣Гр╕лр╣Йр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Console Logs:

#### тЬЕ **р╕Цр╣Йр╕▓р╕кр╣Ир╕Зр╕кр╕│р╣Ар╕гр╣Зр╕И:**
```
ЁЯУз р╕Бр╕│р╕ер╕▒р╕Зр╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕е...
тЬЕ р╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕ер╕кр╕│р╣Ар╕гр╣Зр╕И: { status: 200, text: 'OK', ... }
```

#### тЭМ **р╕Цр╣Йр╕▓р╕кр╣Ир╕Зр╣Др╕бр╣Ир╕кр╕│р╣Ар╕гр╣Зр╕И:**
```
тЭМ EmailJS config р╣Др╕бр╣Ир╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ
р╕лр╕гр╕╖р╕н
тЭМ Error sending email: { status: 400, text: 'Bad Request', ... }
```

---

### 2. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ EmailJS Config**

р╣Ар╕Ыр╕┤р╕Ф Console (F12) р╣Бр╕ер╕░р╕Юр╕┤р╕бр╕Юр╣М:

```javascript
console.log({
  serviceId: window.__emailjs_service_id,
  templateId: window.__emailjs_template_id,
  publicKey: window.__emailjs_public_key
});
```

**р╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щ:**
```javascript
{
  serviceId: 'service_8z92hko',        // тЬЕ р╕Хр╣Йр╕нр╕Зр╕бр╕╡
  templateId: 'template_p0drbn6',      // тЬЕ р╕Хр╣Йр╕нр╕Зр╕бр╕╡ (р╣Др╕бр╣Ир╣Гр╕Кр╣И YOUR_TEMPLATE_ID)
  publicKey: 'Bt-6TmO9oiW7E3xfi'       // тЬЕ р╕Хр╣Йр╕нр╕Зр╕бр╕╡ (р╣Др╕бр╣Ир╣Гр╕Кр╣И YOUR_PUBLIC_KEY)
}
```

---

### 3. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ EmailJS Dashboard**

#### A. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Service:**
1. р╣Др╕Ыр╕Чр╕╡р╣И EmailJS Dashboard тЖТ **Email Services**
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ `service_8z92hko` (Gmail) **Connected** р╣Бр╕ер╣Йр╕з
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ Status р╣Ар╕Ыр╣Зр╕Щ **Active**

#### B. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Template:**
1. р╣Др╕Ыр╕Чр╕╡р╣И **Email Templates**
2. р╣Ар╕Ыр╕┤р╕Ф Template: `template_p0drbn6`
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓:
   - **To Email**: `{{to_email}}` р╕лр╕гр╕╖р╕н `hatwst1@gmail.com`
   - **From Name**: `{{from_name}}` р╕лр╕гр╕╖р╕н `SPU Personnel System`
   - **Subject**: `р╕Др╕│р╕Вр╕нр╕нр╕▒р╕Хр╕гр╕▓р╕Бр╕│р╕ер╕▒р╕Зр╕Юр╕ер╣Гр╕лр╕бр╣И - {{faculty_name}}`
   - **Content**: р╕бр╕╡ Template Variables р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф

#### C. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Public Key:**
1. р╣Др╕Ыр╕Чр╕╡р╣И **Account** тЖТ **General**
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ **Public Key** р╕зр╣Ир╕▓р╣Ар╕лр╕бр╕╖р╕нр╕Щр╕Бр╕▒р╕Ър╣Гр╕Щ `index.html` р╕лр╕гр╕╖р╕нр╣Др╕бр╣И

---

### 4. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Email History**

1. р╣Др╕Ыр╕Чр╕╡р╣И EmailJS Dashboard тЖТ **Email History**
2. р╕Фр╕╣р╕зр╣Ир╕▓р╕бр╕╡р╕нр╕╡р╣Ар╕бр╕ер╕Чр╕╡р╣Ир╕кр╣Ир╕Зр╕лр╕гр╕╖р╕нр╣Др╕бр╣И
3. р╕Фр╕╣ Status р╕Вр╕нр╕Зр╕нр╕╡р╣Ар╕бр╕е:
   - тЬЕ **Sent**: р╕кр╣Ир╕Зр╕кр╕│р╣Ар╕гр╣Зр╕И
   - тЭМ **Failed**: р╕кр╣Ир╕Зр╣Др╕бр╣Ир╕кр╕│р╣Ар╕гр╣Зр╕И (р╕Фр╕╣ Error)

---

## ЁЯФз р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Йр╣Др╕В

### Fix 1: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Template ID

р╣Ар╕Ыр╕┤р╕Ф `index.html` р╣Бр╕ер╕░р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ:

```javascript
window.__emailjs_template_id = 'template_p0drbn6';  // тЬЕ р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╣Бр╕ер╣Йр╕з
```

**р╕Цр╣Йр╕▓р╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Др╕Фр╣Й:**
1. р╣Др╕Ыр╕Чр╕╡р╣И EmailJS Dashboard тЖТ **Email Templates**
2. р╣Ар╕Ыр╕┤р╕Ф Template р╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕Зр╣Др╕зр╣Й
3. р╕Др╕▒р╕Фр╕ер╕нр╕Б **Template ID** (р╣Ар╕Кр╣Ир╕Щ `template_xxxxx`)
4. р╕зр╕▓р╕Зр╣Гр╕Щ `index.html`

---

### Fix 2: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Public Key

р╣Ар╕Ыр╕┤р╕Ф `index.html` р╣Бр╕ер╕░р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ:

```javascript
window.__emailjs_public_key = 'Bt-6TmO9oiW7E3xfi';  // тЬЕ р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╣Бр╕ер╣Йр╕з
```

**р╕Цр╣Йр╕▓р╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Др╕Фр╣Й:**
1. р╣Др╕Ыр╕Чр╕╡р╣И EmailJS Dashboard тЖТ **Account** тЖТ **General**
2. р╕Др╕▒р╕Фр╕ер╕нр╕Б **Public Key**
3. р╕зр╕▓р╕Зр╣Гр╕Щ `index.html`

---

### Fix 3: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ To Email р╣Гр╕Щ Template

1. р╣Др╕Ыр╕Чр╕╡р╣И EmailJS Dashboard тЖТ **Email Templates**
2. р╣Ар╕Ыр╕┤р╕Ф Template: `template_p0drbn6`
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ **To Email**:
   - р╕Др╕зр╕гр╣Ар╕Ыр╣Зр╕Щ: `hatwst1@gmail.com`
   - р╕лр╕гр╕╖р╕н: `{{to_email}}`

---

### Fix 4: р╕Чр╕Фр╕кр╕нр╕Ър╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕е

1. р╣Др╕Ыр╕Чр╕╡р╣И EmailJS Dashboard тЖТ **Playground**
2. р╣Ар╕ер╕╖р╕нр╕Б Service: `service_8z92hko`
3. р╣Ар╕ер╕╖р╕нр╕Б Template: `template_p0drbn6`
4. р╣Гр╕кр╣Ир╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕Фр╕кр╕нр╕Ъ:
   ```javascript
   {
     to_email: 'hatwst1@gmail.com',
     faculty_name: 'р╕Др╕Ур╕░р╕Чр╕Фр╕кр╕нр╕Ъ',
     request_id: 'test-123',
     position: 'р╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕Зр╕Чр╕Фр╕кр╕нр╕Ъ',
     type: 'р╕нр╕▒р╕Хр╕гр╕▓р╣Гр╕лр╕бр╣И',
     amount: '1',
     description: 'р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Чр╕Фр╕кр╕нр╕Ъ',
     status: 'submitted',
     confirmation_link: 'https://hr-project-ivory.vercel.app/confirm/test-123',
     date: '21 р╕Юр╕др╕ир╕Ир╕┤р╕Бр╕▓р╕вр╕Щ 2568, 12:39 р╕Щ.'
   }
   ```
5. р╕Бр╕Ф **Send Test Email**
6. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕нр╕╡р╣Ар╕бр╕ер╕лр╕гр╕╖р╕нр╣Др╕бр╣И

---

## ЁЯУЛ Checklist

- [ ] Template ID р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З (`template_p0drbn6`)
- [ ] Public Key р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З (`Bt-6TmO9oiW7E3xfi`)
- [ ] Service ID р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З (`service_8z92hko`)
- [ ] Gmail Connected р╣Бр╕ер╣Йр╕з
- [ ] Template To Email = `hatwst1@gmail.com`
- [ ] Template р╕бр╕╡ Variables р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
- [ ] р╕Чр╕Фр╕кр╕нр╕Ър╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕ер╣Гр╕Щ Playground р╕кр╕│р╣Ар╕гр╣Зр╕И

---

## ЁЯРЫ Common Errors

### Error 1: "Template ID is not found"
- **р╕кр╕▓р╣Ар╕лр╕Хр╕╕**: Template ID р╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- **р╣Бр╕Бр╣Йр╣Др╕В**: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Template ID р╣Гр╕Щ Dashboard

### Error 2: "Service ID is not found"
- **р╕кр╕▓р╣Ар╕лр╕Хр╕╕**: Service ID р╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- **р╣Бр╕Бр╣Йр╣Др╕В**: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Service ID р╣Гр╕Щ Dashboard

### Error 3: "Invalid Public Key"
- **р╕кр╕▓р╣Ар╕лр╕Хр╕╕**: Public Key р╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- **р╣Бр╕Бр╣Йр╣Др╕В**: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Public Key р╣Гр╕Щ Account тЖТ General

### Error 4: "Template variables missing"
- **р╕кр╕▓р╣Ар╕лр╕Хр╕╕**: Template р╣Др╕бр╣Ир╕бр╕╡ Variables р╕Чр╕╡р╣Ир╕Ир╕│р╣Ар╕Ыр╣Зр╕Щ
- **р╣Бр╕Бр╣Йр╣Др╕В**: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Template Content

---

## ЁЯУЮ р╕Цр╣Йр╕▓р╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Др╕Фр╣Й

1. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Console Logs** (F12)
2. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Email History** р╣Гр╕Щ EmailJS Dashboard
3. **р╕Чр╕Фр╕кр╕нр╕Ър╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕ер╣Гр╕Щ Playground**
4. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Spam Folder** р╣Гр╕Щ Gmail

---

**р╕ер╕нр╕Зр╕Чр╕│р╕Хр╕▓р╕бр╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╣Бр╕ер╣Йр╕зр╣Бр╕Ир╣Йр╕Зр╕Ьр╕е!**

